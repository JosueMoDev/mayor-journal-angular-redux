{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/firestore\";\nimport * as i2 from \"./auth.service\";\nimport * as i3 from \"@ngrx/store\";\nexport class IngresoEgresoService {\n  constructor(fireStore, auth, store) {\n    this.fireStore = fireStore;\n    this.auth = auth;\n    this.store = store;\n  }\n  crearIngresoEgreso(ingresoEgreso) {\n    return this.fireStore.doc(`${this.auth.user.uid}/ingreso-egreso`).collection('items').add({\n      ...ingresoEgreso\n    });\n  }\n  initIngresosEgresosListener(uid) {\n    this.fireStore.collection(`${uid}/ingreso-egreso/items`).snapshotChanges().pipe(\n    // @ts-ignore\n    map(snapshot => {\n      return snapshot.map(({\n        payload\n      }) => {\n        const data = payload.doc.data();\n        return {\n          uid: payload.doc.id,\n          ...data\n        };\n      });\n    })).subscribe(algo => {\n      console.log(algo);\n      // this.store.dispatch(actions.setItems(algo))\n    });\n  }\n}\n\nIngresoEgresoService.ɵfac = function IngresoEgresoService_Factory(t) {\n  return new (t || IngresoEgresoService)(i0.ɵɵinject(i1.AngularFirestore), i0.ɵɵinject(i2.AuthService), i0.ɵɵinject(i3.Store));\n};\nIngresoEgresoService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: IngresoEgresoService,\n  factory: IngresoEgresoService.ɵfac,\n  providedIn: 'root'\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}